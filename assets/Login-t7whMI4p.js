import{_ as w,x as g,q as b,r as x,c as _,a as n,b as e,y,s as V,h as a,j as u,v as i,t as k,d as h,w as L,e as N,p as B,o as p}from"./index-kLhkg_TB.js";const C={class:"page"},R={class:"auth-card"},D={key:0,class:"status warn"},M={class:"helper"},S={__name:"Login",setup(T){const d=B(),{login:m}=g(),t=b({email:"",password:""}),o=x(""),v=_(()=>t.email&&t.password.length>=6),c=()=>{if(!v.value){o.value="请输入正确的邮箱和至少 6 位密码。";return}const l=m({email:t.email.trim(),password:t.password});if(!l.ok){o.value=l.message;return}d.push("/sounds")};return(l,s)=>{const f=N("RouterLink");return p(),n("div",C,[s[7]||(s[7]=e("header",{class:"page-header"},[e("div",null,[e("h1",null,"登录"),e("p",null,"登录后可以保存路线与参与社区讨论。")])],-1)),e("section",R,[e("form",{class:"auth-form",onSubmit:y(c,["prevent"])},[e("label",null,[s[2]||(s[2]=a(" 邮箱 ",-1)),u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>t.email=r),type:"email",placeholder:"name@example.com"},null,512),[[i,t.email]])]),e("label",null,[s[3]||(s[3]=a(" 密码 ",-1)),u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>t.password=r),type:"password",placeholder:"至少 6 位"},null,512),[[i,t.password]])]),s[6]||(s[6]=e("button",{class:"primary-button full",type:"submit"},"登录",-1)),o.value?(p(),n("p",D,k(o.value),1)):V("",!0),e("p",M,[s[5]||(s[5]=a(" 没有账号？ ",-1)),h(f,{to:"/register"},{default:L(()=>[...s[4]||(s[4]=[a("去注册",-1)])]),_:1})])],32)])])}}},j=w(S,[["__scopeId","data-v-246cb16d"]]);export{j as default};
