import{_ as g,x as b,q as x,r as y,c as V,a as i,b as t,y as k,s as R,h as l,j as n,v as r,t as N,d as U,w as c,e as B,p as C,o as p}from"./index-CHByyoby.js";const D={class:"page"},L={class:"auth-card"},M={key:0,class:"status warn"},S={class:"helper"},T={__name:"Register",setup(j){const m=C(),{register:d}=b(),s=x({name:"",email:"",password:"",confirm:""}),a=y(""),f=V(()=>s.name.trim().length>=2&&s.email&&s.password.length>=6&&s.password===s.confirm),v=()=>{if(!f.value){a.value="请完整填写信息并确认密码一致。";return}const u=d({name:s.name.trim(),email:s.email.trim(),password:s.password});if(!u.ok){a.value=u.message;return}m.push("/sounds")};return(u,e)=>{const w=B("RouterLink");return p(),i("div",D,[e[11]||(e[11]=t("header",{class:"page-header"},[t("div",null,[t("h1",null,"注册"),t("p",null,"创建账号，开始上传与记录你的城市声音。")])],-1)),t("section",L,[t("form",{class:"auth-form",onSubmit:k(v,["prevent"])},[t("label",null,[e[4]||(e[4]=l(" 昵称 ",-1)),n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.name=o),type:"text",placeholder:"至少 2 个字符"},null,512),[[r,s.name]])]),t("label",null,[e[5]||(e[5]=l(" 邮箱 ",-1)),n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.email=o),type:"email",placeholder:"name@example.com"},null,512),[[r,s.email]])]),t("label",null,[e[6]||(e[6]=l(" 密码 ",-1)),n(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.password=o),type:"password",placeholder:"至少 6 位"},null,512),[[r,s.password]])]),t("label",null,[e[7]||(e[7]=l(" 确认密码 ",-1)),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.confirm=o),type:"password",placeholder:"再次输入密码"},null,512),[[r,s.confirm]])]),e[10]||(e[10]=t("button",{class:"primary-button full",type:"submit"},"注册并登录",-1)),a.value?(p(),i("p",M,N(a.value),1)):R("",!0),t("p",S,[e[9]||(e[9]=l(" 已有账号？ ",-1)),U(w,{to:"/login"},{default:c(()=>[...e[8]||(e[8]=[l("去登录",-1)])]),_:1})])],32)])])}}},A=g(T,[["__scopeId","data-v-a97061c7"]]);export{A as default};
